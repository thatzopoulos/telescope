---
export interface Props {
  title: string;
  description?: string;
}

const {
  title = 'telescopetest-io',
  description = 'Telescope - Cross Browser Performance Testing Agent',
} = Astro.props;

const cookieValue = Astro.cookies.get('theme-override')?.value;
const themeOverride =
  cookieValue === 'dark' || cookieValue === 'light' ? cookieValue : undefined;
---

<!doctype html>
<html
  lang="en"
  {...themeOverride ? { 'data-theme-override': themeOverride } : {}}
>
  <head>
    <meta charset="UTF-8" />
    <meta name="description" content={description} />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="icon" type="image/png" href="/favicon.png" />
    <meta name="generator" content={Astro.generator} />
    <title>{title}</title>
  </head>
  <body>
    <slot />
  </body>
</html>

<style is:global>
  :root {
    color-scheme: light;
    font-family:
      ui-sans-serif,
      system-ui,
      -apple-system,
      Segoe UI,
      Roboto,
      Inter,
      Arial,
      sans-serif;
    text-rendering: optimizeLegibility;
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
    --bg: #ffffff;
    --panel: rgba(0, 0, 0, 0.03);
    --border: rgba(0, 0, 0, 0.12);
    --text: rgba(0, 0, 0, 0.92);
    --muted: rgba(0, 0, 0, 0.62);
    --nav-bg: rgba(255, 255, 255, 0.9);
    --brand: #0ea5e9;
    --brand-hover: rgba(14, 165, 233, 0.35);
    --brand-bg: rgba(14, 165, 233, 0.1);
    --brand-bg-alt: rgba(59, 130, 246, 0.1);
    --color-success: #22c55e;
    --color-warning: #eab308;
    --color-danger: #ef4444;
  }

  @media (prefers-color-scheme: dark) {
    :root {
      color-scheme: dark;
      --bg: #0f0f0f;
      --panel: rgba(255, 255, 255, 0.04);
      --border: rgba(255, 255, 255, 0.12);
      --text: rgba(255, 255, 255, 0.92);
      --muted: rgba(255, 255, 255, 0.62);
      --nav-bg: rgba(15, 15, 15, 0.9);
      --brand: #0ea5e9;
      --brand-hover: rgba(14, 165, 233, 0.35);
      --brand-bg: rgba(14, 165, 233, 0.1);
      --brand-bg-alt: rgba(59, 130, 246, 0.1);
      --color-success: #22c55e;
      --color-warning: #eab308;
      --color-danger: #ef4444;
    }
  }

  [data-theme-override='light'] {
    color-scheme: light;
    --bg: #ffffff;
    --panel: rgba(0, 0, 0, 0.03);
    --border: rgba(0, 0, 0, 0.12);
    --text: rgba(0, 0, 0, 0.92);
    --muted: rgba(0, 0, 0, 0.62);
    --nav-bg: rgba(255, 255, 255, 0.9);
    --brand: #0ea5e9;
    --brand-hover: rgba(14, 165, 233, 0.35);
    --brand-bg: rgba(14, 165, 233, 0.1);
    --brand-bg-alt: rgba(59, 130, 246, 0.1);
    --color-success: #22c55e;
    --color-warning: #eab308;
    --color-danger: #ef4444;
  }

  [data-theme-override='dark'] {
    color-scheme: dark;
    --bg: #0f0f0f;
    --panel: rgba(255, 255, 255, 0.04);
    --border: rgba(255, 255, 255, 0.12);
    --text: rgba(255, 255, 255, 0.92);
    --muted: rgba(255, 255, 255, 0.62);
    --nav-bg: rgba(15, 15, 15, 0.9);
    --brand: #0ea5e9;
    --brand-hover: rgba(14, 165, 233, 0.35);
    --brand-bg: rgba(14, 165, 233, 0.1);
    --brand-bg-alt: rgba(59, 130, 246, 0.1);
    --color-success: #22c55e;
    --color-warning: #eab308;
    --color-danger: #ef4444;
  }

  html,
  body {
    height: 100%;
    margin: 0;
    background: var(--bg);
    color: var(--text);
  }

  h1 {
    font-size: 2rem; /* 32px */
    font-weight: 700;
    margin: 0 0 0.5rem 0; /* 8px */
  }

  h2 {
    font-size: 1.125rem; /* 18px */
    font-weight: 400;
    color: var(--muted);
    margin: 0 0 1.5rem 0; /* 24px */
  }

  h3 {
    font-size: 1.125rem; /* 18px */
    font-weight: 600;
    margin: 0;
  }

  /* Button styles - common UI element with variants */
  .button {
    display: inline-block;
    padding: 0.625rem 1.25rem; /* 10px 20px */
    border-radius: 0.75rem; /* 12px */
    border: none;
    font-size: 0.875rem; /* 14px */
    font-weight: 600;
    cursor: pointer;
    transition: all 0.2s ease;
    text-decoration: none;
  }

  .button-primary {
    background: var(--brand);
    color: white;
  }

  .button-primary:hover {
    opacity: 0.9;
  }

  .button-secondary {
    background: var(--panel);
    color: var(--text);
    border: 1px solid var(--border);
  }

  .button-secondary:hover {
    background: var(--panel);
    filter: brightness(1.1);
  }
</style>
